import { Card } from "@/components/ui/card";
import { Progress } from "@/components/ui/progress";
import { ScrollArea } from "@/components/ui/scroll-area";
import { 
  BookOpen, 
  Calendar, 
  GraduationCap, 
  LineChart, 
  Clock,
  CheckCircle2,
  ChevronRight
} from "lucide-react";
import { useIsMobile } from "@/hooks/use-mobile";

const Index = () => {
  const isMobile = useIsMobile();

  const courses = [
    { name: "Mathematics", progress: 75, assignments: 12, completed: 9 },
    { name: "Physics", progress: 60, assignments: 8, completed: 4 },
    { name: "Computer Science", progress: 90, assignments: 15, completed: 14 },
    { name: "English Literature", progress: 45, assignments: 10, completed: 4 },
  ];

  const upcomingAssignments = [
    { title: "Calculus Quiz", course: "Mathematics", due: "Tomorrow, 2:30 PM" },
    { title: "Physics Lab Report", course: "Physics", due: "In 2 days" },
    { title: "Programming Project", course: "Computer Science", due: "Next week" },
  ];

  const recentActivities = [
    { action: "Submitted Assignment", course: "Physics", time: "2 hours ago" },
    { action: "Completed Quiz", course: "Mathematics", time: "Yesterday" },
    { action: "Started New Module", course: "Computer Science", time: "2 days ago" },
  ];

  return (
    <div className="min-h-screen bg-gray-50 p-3 sm:p-4 md:p-6 lg:p-8">
      {/* Header Section */}
      <div className="mb-6 md:mb-8">
        <h1 className="text-2xl md:text-3xl font-bold text-gray-900">Student Dashboard</h1>
        <p className="text-sm md:text-base text-gray-600">Welcome back, John Doe</p>
      </div>

      {/* Quick Stats */}
      <div className="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8">
        <Card className="p-3 md:p-4 flex items-center space-x-3 md:space-x-4">
          <div className="p-2 md:p-3 bg-purple-100 rounded-lg">
            <BookOpen className="w-4 h-4 md:w-6 md:h-6 text-purple-600" />
          </div>
          <div>
            <p className="text-xs md:text-sm text-gray-600">Active Courses</p>
            <p className="text-lg md:text-2xl font-semibold">4</p>
          </div>
        </Card>
        
        <Card className="p-3 md:p-4 flex items-center space-x-3 md:space-x-4">
          <div className="p-2 md:p-3 bg-blue-100 rounded-lg">
            <Calendar className="w-4 h-4 md:w-6 md:h-6 text-blue-600" />
          </div>
          <div>
            <p className="text-xs md:text-sm text-gray-600">Assignments Due</p>
            <p className="text-lg md:text-2xl font-semibold">7</p>
          </div>
        </Card>
        
        <Card className="p-3 md:p-4 flex items-center space-x-3 md:space-x-4">
          <div className="p-2 md:p-3 bg-green-100 rounded-lg">
            <GraduationCap className="w-4 h-4 md:w-6 md:h-6 text-green-600" />
          </div>
          <div>
            <p className="text-xs md:text-sm text-gray-600">Overall Grade</p>
            <p className="text-lg md:text-2xl font-semibold">A-</p>
          </div>
        </Card>
        
        <Card className="p-3 md:p-4 flex items-center space-x-3 md:space-x-4">
          <div className="p-2 md:p-3 bg-orange-100 rounded-lg">
            <LineChart className="w-4 h-4 md:w-6 md:h-6 text-orange-600" />
          </div>
          <div>
            <p className="text-xs md:text-sm text-gray-600">Attendance</p>
            <p className="text-lg md:text-2xl font-semibold">92%</p>
          </div>
        </Card>
      </div>

      {/* Main Content Grid */}
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8">
        {/* Course Progress Section */}
        <div className="lg:col-span-2 space-y-4 md:space-y-6">
          <h2 className="text-lg md:text-xl font-semibold mb-3 md:mb-4">Course Progress</h2>
          <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4">
            {courses.map((course, index) => (
              <Card key={index} className="p-3 md:p-4">
                <h3 className="text-sm md:text-base font-semibold mb-2">{course.name}</h3>
                <Progress value={course.progress} className="mb-2" />
                <div className="flex justify-between text-xs md:text-sm text-gray-600">
                  <span>{course.completed}/{course.assignments} assignments</span>
                  <span>{course.progress}%</span>
                </div>
              </Card>
            ))}
          </div>
        </div>

        {/* Sidebar Content */}
        <div className="space-y-4 md:space-y-6">
          {/* Upcoming Assignments */}
          <Card className="p-3 md:p-4">
            <h2 className="text-lg md:text-xl font-semibold mb-3 md:mb-4">Upcoming</h2>
            <ScrollArea className="h-[180px] md:h-[200px]">
              <div className="space-y-3 md:space-y-4">
                {upcomingAssignments.map((assignment, index) => (
                  <div key={index} className="flex items-start space-x-2 md:space-x-3">
                    <Clock className="w-3 h-3 md:w-4 md:h-4 text-gray-400 mt-1" />
                    <div className="flex-1">
                      <p className="text-sm md:text-base font-medium">{assignment.title}</p>
                      <p className="text-xs md:text-sm text-gray-600">{assignment.course}</p>
                      <p className="text-xs md:text-sm text-gray-500">{assignment.due}</p>
                    </div>
                    {!isMobile && <ChevronRight className="w-4 h-4 text-gray-400" />}
                  </div>
                ))}
              </div>
            </ScrollArea>
          </Card>

          {/* Recent Activity */}
          <Card className="p-3 md:p-4">
            <h2 className="text-lg md:text-xl font-semibold mb-3 md:mb-4">Recent Activity</h2>
            <ScrollArea className="h-[180px] md:h-[200px]">
              <div className="space-y-3 md:space-y-4">
                {recentActivities.map((activity, index) => (
                  <div key={index} className="flex items-start space-x-2 md:space-x-3">
                    <CheckCircle2 className="w-3 h-3 md:w-4 md:h-4 text-green-500 mt-1" />
                    <div className="flex-1">
                      <p className="text-sm md:text-base font-medium">{activity.action}</p>
                      <p className="text-xs md:text-sm text-gray-600">{activity.course}</p>
                      <p className="text-xs md:text-sm text-gray-500">{activity.time}</p>
                    </div>
                    {!isMobile && <ChevronRight className="w-4 h-4 text-gray-400" />}
                  </div>
                ))}
              </div>
            </ScrollArea>
          </Card>
        </div>
      </div>
    </div>
  );
};

export default Index;